<div class="container-fluid">
  <app-ui-preloader [display]="loading"></app-ui-preloader>
  <form [formGroup]="workItemForm" (ngSubmit)="onSave()">
    <div class="row page-title">
      <div class="col-sm-8 col-xl-6">
        <h6 class="mb-1 mt-0"> {{workItemForm.controls.workItemType.value}} :
          <strong>{{workItemForm.controls.workItemId.value}}</strong> </h6>
        <h2>{{workItemForm.controls.workItemId.value}} {{workItemForm.controls.title.value}}</h2>
      </div>
      <div class="col-sm-4 col-xl-6 text-sm-right">
        <div class="btn-group ml-2 d-none d-sm-inline-block"><button [disabled]="!workItemForm.dirty" (click)="onSave()"
            class="btn btn-soft-primary btn-sm" type="button"><i class="uil uil-save mr-1"></i>Save</button></div>
        <div class="btn-group d-none d-sm-inline-block ml-1"><button class="btn btn-soft-danger btn-sm" type="button"
            routerLink="/work-items/items-list"><i class="uil uil-step-backward-alt mr-1"></i>Back</button></div>
      </div>
    </div>

    <div class="row">
      <div class="col-lg-8">
        <div class="row">
          <div class="col-lg-12">
            <div class="card">
              <div class="card-body">
                <div class="row">
                  <div class="col-lg-4">
                    <span>Status</span>
                    <select class="form-control" formControlName="status">
                      <option value="New">New</option>
                      <option value="Active">Active</option>
                      <option value="Test">Test</option>
                      <option value="Resolve">Resolve</option>
                      <option value="Closed">Closed</option>
                    </select>
                    <!-- <div class="badge badge-success font-size-13 font-weight-normal ml-1">{{workItemForm.controls.status.value}}</div> -->
                  </div>
                  <div class="col-lg-8">
                    <span>Iteration</span> <input type="text" class="form-control" formControlName="iteration">
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-12">
            <div class="card">
              <div class="card-body">
                <div class="row">
                  <div class="col-lg-12">
                    <p>{{workItemForm.controls.description.value}}</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-4">
        <div class="row">
          <div class="col-lg-12">
            <div class="card">
              <div class="card-body">
                <div class="row">
                  <div class="col-lg-12">
                    <ng-template #rt let-r="result" let-t="term">
                      <img [src]="r['photo']" class="mr-1" style="width: 25px; height: 30px;">
                      <ngb-highlight [result]="r.username" [term]="t"></ngb-highlight>
                    </ng-template>

                    <label for="typeahead-template">Assigned to</label>
                    <input type="text" class="form-control" formControlName="userName" [ngbTypeahead]="search"
                      [resultTemplate]="rt" [inputFormatter]="formatter">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-lg-12">
            <div class="card">
              <div class="card-body">
                <div class="form-group">
                  <label for="exampleInputEmail1">Priority</label>
                  <select class="form-control" formControlName="priority">
                    <option value="Low" selected>Low</option>
                    <option value="Medium">Medium</option>
                    <option value="High">High</option>
                  </select>
                  <div *ngIf="f.priority.touched && f.priority.hasError('required')">Required</div>
                </div>
                <div class="form-group">
                  <label for="exampleInputEmail1">Original Estimate</label>
                  <input type="text" formControlName="originalEstimate" class="form-control">
                </div>
                <div class="form-group">
                  <label for="exampleInputEmail1">Remaining Hours</label>
                  <input type="text" formControlName="remainingHours" class="form-control">
                </div>
                <div class="form-group">
                  <label for="exampleInputEmail1">Completed Hours</label>
                  <input type="text" formControlName="completedHours" class="form-control">
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

  </form>
</div>
